<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Camera Background UI</title>
    <link rel="stylesheet" href="src/style.css" />
  </head>
  <body>
    <!-- 비디오와 캔버스를 body 바로 아래에 배치 -->
    <video id="camera-bg" autoplay playsinline muted></video>
    <canvas id="canvas"></canvas>

    <!-- 상단 안내 -->
    <header class="app-header">
      <div>
        <p class="eyebrow">실시간 수어 통역</p>
        <h1>SignSight</h1>
        <p class="description">너, 나, 그리고 우리의 일상을 위한,</p>
        <p class="description">아바타 수어 번역 서비스</p>
      </div>
    </header>

    <!-- 왼쪽 하단 컨트롤 -->
    <div class="control-panel">
      <div class="panel-section">
        <button id="modeBtn" class="mode-chip" type="button">
          문자 → 수어
        </button>
        <p class="panel-description">
          음성으로 입력된 문장을 자막으로 확인하고 수어로 활용할 수 있습니다.
        </p>
      </div>
      <div class="panel-section record-box" id="record-box">
        <div class="panel-label">음성 캡처</div>
        <div class="record-actions">
          <button id="recordStartBtn" class="ghost-btn">녹음 시작</button>
          <button id="recordStopBtn" class="danger-btn">녹음 중단</button>
        </div>
        <span id="recordNotice" class="record-notice"></span>
      </div>
    </div>

    <!-- 자막 -->
    <div class="subtitle-box" id="subtitle-box">
      <div class="subtitle" id="subtitle">여기에 자막이 표시됩니다.</div>
    </div>
    <div id="loading-box" class="loading-box">
      <div class="spinner"></div>
      <p>모델을 불러오는 중입니다...</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/pose-detection"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/hand-pose-detection"></script>

    <script type="module" src="./src/record.js"></script>
    <script type="module" src="./src/subtle.js"></script>
    <script type="module" src="./src/pose-app.ts"></script>
    <script type="module" src="./src/mode.js"></script>
  </body>
</html>
